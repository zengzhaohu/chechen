<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>车臣汽车服务</title>
<link rel="stylesheet" th:href="@{../css/style.css}"/>

<script th:src="@{../js/jquery-1.11.1.min.js}" type="text/javascript"></script>
<script type="text/javascript" th:inline="JavaScript">
/*<![CDATA[  */
             var basepath = /*[[${pageInfo.hasPreviousPage}]]*/;
             console.log(basepath);
             
/*]]> */

</script>           
</head>
<body th:inline="text">
<div class="wrapper">
<div class="middle">
	<!-- 查询条件 -->
	<form th:action="@{/user/}" th:object="${queryParam}" th:method="post">
		<table>
			<tbody>
				<tr>
					<td>用户编号:</td>
					<td><input type="text" th:field="*{usercode}" /></td>
				</tr>
				<tr>
					<td>用户姓名</td>
					<td><input type="text" th:field="*{username}" /></td>
				</tr>
				<tr>
					<td rowspan="2"><input type="submit" /></td>
					<td><a th:href="@{/user/add}" th:text="新增"></a></td>
				</tr>
			</tbody>
		
		
		</table>
		
		
		
		
	</form>
	<table class="gridtable" style="width:100%;">
		<tbody>
			<tr style="color:red;">
				<td th:if="${msg}!=null"  colspan="5">[[${msg}]]</td>
			</tr>
		</tbody>
	
	</table>
	<table class="gridtable" style="width:100%;">
	<thead>
		<tr>
			<th>名称</th>
			<th>昵称</th>
			<th>状态</th>
			<th>性别</th>
			<th>手机号</th>
			<th>密码</th>
			<th>操作</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="user:${pageInfo.list}">
			<td th:text="${user.usercode}">xiaohu</td>
			<td th:text="${user.username}">小虎</td>
			<td th:text="${user.status}">正常</td>
			<td th:text="${user.gender} ==1?'男':'女'">男</td>
			<td th:text="${user.phone}">15296817122</td>
			<td th:text="${user.password}">1125555</td>
			<td style="text-align:center;">[<a th:href="@{'/user/view/'+${user.id}}">编辑</a>][<a th:href="@{'/user/delete/'+${user.id}}">删除</a>]</td>
		</tr>
	
	</tbody>
	
	</table>

	<table class="gridtable" style="width:100%;text-align:center;">
		<tr>
			<td th:if="${pageInfo.hasPreviousPage}">
				<a th:href="@{/user/(page=1,rows=${pageInfo.pageSize})}">首页</a>
			</td>
			<td th:if="${pageInfo.hasPreviousPage}">
				<a th:href="@{/user/(page=${pageInfo.prePage},rows=${pageInfo.pageSize})}">前一页</a>
			</td>
			
			<!-- 中间显示页码 -->
			<td th:each="nav:${pageInfo.navigatepageNums}">
				<span th:if="${nav} == ${pageInfo.pageNum}" style="font-weight:bold;" th:text="${nav}"></span>
				<a th:if="${nav} != ${pageInfo.pageNum}" th:href="@{/user/(page=${nav},rows=${pageInfo.pageSize})}" th:text="${nav}"></a>
			</td>
			<td th:if="${pageInfo.hasNextPage}">
				<a th:href="@{/user/(page=${pageInfo.nextPage},rows=${pageInfo.pageSize})}">下一页</a>
			</td>
			<td th:if="${pageInfo.hasNextPage}">
				<a th:href="@{/user/(page=${pageInfo.pages},rows=${pageInfo.pageSize})}">尾页</a>
			</td>
		</tr>
	</table>
	</div>
	</div>
</body>
</html>